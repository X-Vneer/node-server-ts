import{r as g}from"./index.df40002d.js";const p=n=>typeof n=="function";function v(n,e){var t;return typeof n=="string"?e?((t=e[n])!==null&&t!==void 0||(e[n]=document.querySelectorAll(n)),n=e[n]):n=document.querySelectorAll(n):n instanceof Element&&(n=[n]),Array.from(n||[])}const E={any:0,all:1};function I(n,e,{root:t,margin:c,amount:o="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const u=v(n),i=new WeakMap,f=a=>{a.forEach(r=>{const d=i.get(r.target);if(r.isIntersecting!==Boolean(d))if(r.isIntersecting){const l=e(r);p(l)?i.set(r.target,l):s.unobserve(r.target)}else d&&(d(r),i.delete(r.target))})},s=new IntersectionObserver(f,{root:t,rootMargin:c,threshold:typeof o=="number"?o:E[o]});return u.forEach(a=>s.observe(a)),()=>s.disconnect()}function b(n,{root:e,margin:t,amount:c,once:o=!1}={}){const[u,i]=g.useState(!1);return g.useEffect(()=>{if(!n.current||o&&u)return;const f=()=>(i(!0),o?void 0:()=>i(!1)),s={root:e&&e.current||void 0,margin:t,amount:c==="some"?"any":c};return I(n.current,f,s)},[e,n,t,o]),u}export{b as u};
